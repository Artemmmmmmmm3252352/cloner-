<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Surgical Alabaster Workspace</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Mono&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              alabaster: {
                pure: 'var(--bg-pure)', // The Sheet (White)
                haze: 'var(--bg-haze)', // The Desk (Light Stone)
                vein: 'var(--bg-vein)', // Borders (Darker Stone)
              },
              surgical: {
                steel: 'var(--text-main)',
                dim: 'var(--text-dim)',
                accent: 'var(--accent-color)',
              }
            },
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              serif: ['Lora', 'serif'], // New serif font for headings
              mono: ['Space Mono', 'monospace'],
            },
            boxShadow: {
              monolith: '0 1px 2px rgba(0,0,0,0.02), 0 4px 12px rgba(0,0,0,0.05)',
              'menu': '0 0 0 1px var(--border-shadow), 0 4px 12px rgba(0, 0, 0, 0.08), 0 12px 32px rgba(0, 0, 0, 0.12)',
              'sheet': '0 1px 1px rgba(0,0,0,0.02), 0 2px 2px rgba(0,0,0,0.02), 0 4px 4px rgba(0,0,0,0.02), 0 8px 8px rgba(0,0,0,0.02)',
            },
            animation: {
              'modal-entry': 'modalEntry 0.4s cubic-bezier(0.16, 1, 0.3, 1)',
              'breathe': 'breathe 4s ease-in-out infinite',
            },
            keyframes: {
              modalEntry: {
                'from': { opacity: '0', transform: 'translateY(10px) scale(0.99)' },
                'to': { opacity: '1', transform: 'translateY(0) scale(1)' },
              },
              breathe: {
                '0%, 100%': { opacity: '0.8' },
                '50%': { opacity: '1' },
              }
            }
          }
        }
      }
    </script>
    <style>
      :root {
        /* Light Mode - "Atelier" Theme */
        --bg-pure: #ffffff;
        --bg-haze: #f5f5f4; /* Stone 100 - The Desk Background */
        --bg-vein: #e7e5e4; /* Stone 200 - Borders */
        --text-main: #292524; /* Stone 800 - Warm Black */
        --text-dim: #78716c; /* Stone 500 */
        --border-shadow: rgba(0, 0, 0, 0.06);
        --accent-color: #44403c; /* Stone 700 - Monochrome Accent */
        --cursor-url: auto; /* Reverting to default cursor for better UX */
      }

      body.dark-mode {
        /* Dark Mode - "Obsidian" Theme */
        --bg-pure: #1c1917; /* Stone 900 */
        --bg-haze: #0c0a09; /* Stone 950 */
        --bg-vein: #292524; /* Stone 800 */
        --text-main: #e7e5e4; /* Stone 200 */
        --text-dim: #a8a29e; /* Stone 400 */
        --border-shadow: rgba(255, 255, 255, 0.1);
        --accent-color: #d6d3d1;
      }

      body {
        -webkit-font-smoothing: antialiased;
        background-color: var(--bg-haze); /* App background is now the "Haze" */
        color: var(--text-main);
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      /* Scrollbar adjustments */
      .custom-scrollbar::-webkit-scrollbar {
        width: 5px;
        height: 5px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: var(--bg-vein);
        border-radius: 10px;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: var(--text-dim);
      }

      /* Editor Styles - Typography Update */
      .editor-content h1, .editor-content h2, .editor-content h3 {
        font-family: 'Lora', serif; /* Serif headings */
        letter-spacing: -0.01em;
      }
      .editor-content h1 { font-size: 2.5em; font-weight: 600; margin-top: 1.5em; margin-bottom: 0.5em; line-height: 1.2; }
      .editor-content h2 { font-size: 1.8em; font-weight: 500; margin-top: 1.4em; margin-bottom: 0.3em; line-height: 1.3; }
      .editor-content h3 { font-size: 1.4em; font-weight: 500; margin-top: 1em; margin-bottom: 0.2em; line-height: 1.3; }
      
      /* Placeholder */
      [contenteditable]:empty:before {
        content: attr(data-placeholder);
        color: var(--text-dim);
        opacity: 0.6;
        font-style: italic;
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "lucide-react": "https://esm.sh/lucide-react@^0.562.0",
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
  </body>
</html>